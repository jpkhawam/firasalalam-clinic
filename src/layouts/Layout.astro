---
import Footer from "../components/astro/Footer.astro";
import NavBar from "../components/astro/NavBar.astro";

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <script is:inline>
      if (localStorage.getItem("theme") === null) {
        document.documentElement.setAttribute("data-theme", "fantasy");
      } else {
        document.documentElement.setAttribute(
          "data-theme",
          localStorage.getItem("theme")
        );
      }
      if (
        localStorage.getItem("theme") === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>
    <script>
      import { themeChange } from "theme-change";
      themeChange();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    <title>{title}</title>
  </head>
  <body
    class="flex h-screen flex-col justify-between selection:bg-gray-950 selection:text-white dark:text-slate-50 selection:dark:bg-brand selection:dark:text-black"
  >
    <div class="drawer drawer-end">
      <input id="navigation-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content">
        <NavBar />
        <div class="bg-warning px-4 py-3 text-black">
          <p class="text-center text-lg font-medium">
            ‼️ This website is under development ‼️
          </p>
        </div>
        <slot />
        <Footer />
      </div>
      <div class="drawer-side">
        <label for="navigation-drawer" class="drawer-overlay"></label>
        <div
          class="menu h-screen max-h-screen w-screen max-w-none bg-white p-4 text-base-content dark:bg-[#1B1E26] md:w-[25rem]"
        >
          <button
            id="close-drawer"
            class="btn-ghost btn-sm btn-circle btn absolute right-4 top-3 text-2xl dark:text-white"
            >✕</button
          >
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  const closeDrawer = document.getElementById("close-drawer");
  const drawer = document.getElementById("navigation-drawer");
  closeDrawer?.addEventListener("click", () => drawer?.click());
</script>
